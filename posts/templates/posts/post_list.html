{% extends "posts/base.html" %}

{% block content %}
    <div class="container mb-4 d-flex justify-content-between align-items-center">
        <form class="me-4" method="get" action="{% url 'post_list'  %}">
            <label class="form-check-label" >Сортировать по:</label>
           <div>
                <label class="form-check-label">
                    <input type="radio" name="sort" value="id" {% if sort_by == 'id' %}checked{% endif %}>
                    ID-статьи
                </label>
            </div>
           <div>
                <label class="form-check-label">
                    <input type="radio" name="sort" value="title" {% if sort_by == 'title' %}checked{% endif %}>
                    Заголовку
                </label>
           </div>
           <button class="btn btn-outline-success mt-1" type="submit">Сортировать</button>
        </form>
        <form class="d-flex flex-grow-1" role="search" method="get" action="{% url 'post_list'  %}">
            <input class="form-control me-2" type="search" name="search" placeholder="Поиск по заголовку сатьи"
                   aria-label="Поиск" value="{% if search_query %}{{ search_query }}{% endif %}">
            <button class="btn btn-outline-success" type="submit">Поиск</button>
        </form>
    </div>
    <table class="table  table-bordered align-middle text-center table-hover">
        <thead class="table-success">
            <tr>
              <th scope="col">ID-статьи</th>
              <th scope="col">Заголовок</th>
              <th scope="col">ID-пользователя</th>
              <th scope="col">Подробнее</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
                <tr>
                    <td scope="row">{{ post.id }}</td>
                    <td>{{ post.title }}</td>
                    <td>{{ post.userId}}</td>
                    <td>
                        <a href="{% url 'post_detail' pk=post.pk %}">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                                width="32.000000pt" height="32.000000pt" viewBox="0 0 32.000000 32.000000"
                                preserveAspectRatio="xMidYMid meet">

                                <g transform="translate(0.000000,32.000000) scale(0.100000,-0.100000)"
                                fill="#000000" stroke="none">
                                <path d="M115 261 c-40 -17 -60 -51 -60 -101 0 -58 30 -96 83 -106 104 -20
                                174 113 98 185 -26 25 -89 36 -121 22z m115 -36 c35 -36 34 -95 -3 -132 -60
                                -61 -162 -19 -162 66 0 89 101 130 165 66z"/>
                                <path d="M100 160 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0
                                -10 -4 -10 -10z"/>
                                <path d="M150 160 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0
                                -10 -4 -10 -10z"/>
                                <path d="M200 160 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0
                                -10 -4 -10 -10z"/>
                                </g>
                            </svg>
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
<!--    <ul>-->
<!--        {% for post in posts %}-->
<!--            <li>-->
<!--                 <a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a>-->
<!--            </li>-->
<!--        {% endfor %}-->
<!--    </ul>-->
{% endblock %}
